{% extends "base.html" %}
{% block title %}Signup{% endblock %}
{% block content %}

<div class="signup-container">
    <h1>Signup</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="message {{ category }}">
                        <p>{{ message }}</p>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <form method="POST" name="signup">
        {{ form.hidden_tag() }}

        <label for="name">Name:</label>
        {{ form.name(id="name") }}

        <label for="email">Email:</label>
        {{ form.email(id="email") }}

        <label for="password">Password:</label>
        {{ form.password(id="password") }}

        {{ form.submit(id="signupForm") }}
    </form>

    {% if form.errors %}
        <div class="error-message" style="color: red;">
            {% for field_errors in form.errors.values() %}
                {% for error in field_errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            {% endfor %}
        </div>
    {% endif %}
</div>

<p class="signup-link">
    Already have an account? <a href="{{ url_for('login') }}">Login</a>
</p>

{% endblock %}
