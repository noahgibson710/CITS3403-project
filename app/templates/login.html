{% extends "base.html" %} 
{% block title %}Login{% endblock %}
{% block content %}

<div class="signup-container" style="display: flex; flex-direction: column; align-items: center;">
  <h1>Login</h1>
  {% if error %}
  <div style="position: relative; display: flex; flex-direction: column; align-items: center; margin-bottom: 15px;">
    <div style="
      display: flex;
      align-items: center;
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeeba;
      border-radius: 6px;
      padding: 8px 14px;
      font-size: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      font-family: inherit;
      min-width: 180px;
      justify-content: center;
    ">
      <span style="font-size: 1.3em; margin-right: 8px;">&#9888;</span>
      {{ error }}
    </div>
    <div style="
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      top: 100%;
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-top: 10px solid #fff3cd;
      "></div>
  </div>
  {% endif %}
  <form method="POST" action = "" name = "login" style="width: 100%;">
    {{ form.hidden_tag() }}

    <label for="email">Email:</label>
    {{ form.email(id="email") }}

    <label for="password">Password:</label>
    {{ form.password(id="password") }}

    <label>
      <input type="checkbox" id="show-password-checkbox"> Show password
    </label>

    {{ form.submit(id="loginForm") }}
  </form>

  {% if error %}
    <p class="error-message" style="color: red;">{{ error }}</p>
  {% endif %}
</div>

<p class="signup-link">
  Don't have an account? <a href="{{ url_for('signup') }}">Sign up here</a>
</p>

<script> // Added show password in the login page
document.getElementById('show-password-checkbox').addEventListener('change', function () {
   const passwordField = document.getElementById('password');
   passwordField.type = this.checked ? 'text' : 'password';
});
</script>

{% endblock %}
