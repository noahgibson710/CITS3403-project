{% extends "base.html" %}
{% import "./components/resultTab.html" as ui %}
{% block title %}Calorie Intake Time Series{% endblock
%} {% block content %}
<section>
  <h1>Your Health Macro Results</h1>
  <div
    id="results-container"
    style="text-align: center; font-size: 1.1rem; margin-top: 2rem"
  >
    <!-- The JS will inject the most recent result and the Save/Recalculate buttons here if there is a new calculation -->
  </div>
  {% if macro_posts and macro_posts|length > 0 %}
  <div class="macro-history">
    <ul>
      {% for post in macro_posts %}
        {{ ui.history_item(post) }}
      {% endfor %}
    </ul>
  </div>
  {% else %}
  <div
    class="no-results-message"
    style="text-align: center; font-size: 1.1rem; margin-top: 2rem"
  >
    <p style="color: #ff6b6b">
      ‚ùå No results found. Please calculate your macros first on the
      <a href="/calculator" style="color: #6bffff; text-decoration: underline"
        >Macro Calc</a
      >
      page.
    </p>
  </div>
  {% endif %}
</section>

<script src="{{ url_for('static', filename='js/results.js') }}"></script>
{% endblock %}
